Contributing
============

Correctness is enforced via parity tests against SFINCS Fortran v3 fixtures.

Repository layout
-----------------

- `sfincs_jax/`: Python package code
- `tests/`: unit tests and frozen reference fixtures (including some PETSc binaries)
- `examples/`: pedagogic scripts organized by workflow category
- `docs/`: Sphinx docs (Read the Docs compatible)

Development workflow
--------------------

1. Implement or refactor one coherent capability.
2. Add or update tests with stable fixtures.
3. Keep PRs focused and keep tests fast.

Reference fixtures
------------------

Some parity tests use PETSc binary matrices/vectors generated by the Fortran executable.
To regenerate fixtures locally, you must have a working SFINCS v3 build and set:

.. code-block:: bash

   export SFINCS_FORTRAN_EXE=/path/to/sfincs/fortran/version3/sfincs

Then run an example input with `saveMatricesAndVectorsInBinary = .true.` enabled.
